<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//cdn.oesmith.co.uk/morris-0.4.3.min.css">
    <link rel="stylesheet" href="css/wpt.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="//cdn.oesmith.co.uk/morris-0.4.3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/vue.min.js"></script>
	<script src='js/app.js'></script>
	<title>Grunt WebPageTest</title>
</head>
<body>

	<div class="container">
		<nav class="navbar navbar-default" role="navigation">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		        <a class="navbar-brand" href="#">Grunt WebPageTest</a>
		    </div>
		</nav>
	</div>

	<div id="app" class="container">
		<div class="row">
			<div class="col-md-2 sidebar" >
				<div data-spy="affix" data-offset-top="60">
			  		<h2>Location</h2>
					<select id="locations" class="form-control" v-model="location" >
						<option v-repeat="locations" value="{{$key}}" >{{$value}}</option>
					</select>
			  		<h2>URL</h2>
					<select id="urls" class="form-control" v-model="url" v-on="change: render" >
						<option v-repeat="urls" value="{{$key}}" >{{$key}}</option>
					</select>

					<ul class="nav nav-pills nav-stacked">
					  <li>
					  	<a href="#responseTime">Response Time</a>
					  	<a href="#contentsSize">Contents Size</a>
					  </li>
					</ul>
				</div>
			</div>
			<div class="col-md-10">

				<h2 id="responseTime" >Response Time</h2>
				<h3>FirstView</h3>
				<h4>Average</h4>
				<div id="firstAverage" class="graphs"></div>

				<h4>Median</h4>
				<div id="firstMedian" class="graphs"></div>

				<h3>RepeatView</h3>
				<h4>Average</h4>
				<div id="repeatAverage" class="graphs"></div>

				<h4>Median</h4>
				<div id="repeatMedian" class="graphs"></div>

				<h3>Detail</h3>
				<h4>Average</h4>
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th rowspan="2">Date</th>
							<th rowspan="2">ID</th>
							<th colspan="2">FirstView</th>
							<th colspan="2">RepeatView</th>
						</tr>
						<tr>
							<th v-repeat="labels.responseTime.average">{{$value}}</th>
							<th v-repeat="labels.responseTime.average">{{$value}}</th>
						</tr>
					</thead>
					<tbody id="averageTable">
						<tr v-repeat="tests" >
							<td>{{info.completed | convertToDate }}</td>
							<td><a v-attr="href: response.data.summary">{{info.id}}</a></td>
							<td v-repeat="labels.responseTime.average">{{response.data.average.firstView[$key] | ms}}</td>
							<td v-repeat="labels.responseTime.average">{{response.data.average.repeatView[$key] | ms}}</td>
						</tr>
					</tbody>
				</table>

				<h4>Median</h4>
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th rowspan="2">Date</th>
							<th rowspan="2">ID</th>
							<th colspan="6">FirstView</th>
							<th colspan="6">RepeatView</th>
						</tr>
						<tr>

							<th v-repeat="labels.responseTime.median">{{$value}}</th>
							<th v-repeat="labels.responseTime.median">{{$value}}</th>
						</tr>
					</thead>
					<tbody id="medianTable">
						<tr v-repeat="tests">
							<td>{{info.completed | convertToDate}}</td>
							<td><a v-attr="href: response.data.summary">{{info.id}}</a></td>
							<td v-repeat="labels.responseTime.median">{{response.data.median.firstView[$key] | ms}}</td>
							<td v-repeat="labels.responseTime.median">{{response.data.median.repeatView[$key] | ms}}</td>
						</tr>
					</tbody>
				</table>


				<h2 id="contentsSize" >Contents Size</h2>
				<h3>FirstView</h3>
				<div id="firstContentsSize" class="graphs"></div>

				<h3>RepeatView</h3>
				<div id="repeatContentsSize" class="graphs"></div>

				<h3>Detail</h3>
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th rowspan="2">Date</th>
							<th rowspan="2">ID</th>
							<th colspan="8">FirstView</th>
							<th colspan="8">RepeatView</th>
						</tr>
						<tr>
							<th>Total</th>
							<th v-repeat="labels.contents">{{$value}}</th>
							<th>Total</th>
							<th v-repeat="labels.contents">{{$value}}</th>
						</tr>
					</thead>
					<tbody id="contentsSizeTable">
						<tr v-repeat="tests" >
							<td>{{info.completed | convertToDate}}</td>
							<td><a v-attr="href: response.data.summary">{{info.id}}</a></td>
							<td>{{response.data.median.firstView.breakdown | totalBytes | KB}}</td>
							<td v-repeat="labels.contents" >{{response.data.median.firstView.breakdown[$key].bytes | KB}}</td>
							<td>{{response.data.median.repeatView.breakdown | totalBytes | KB}}</td>
							<td v-repeat="labels.contents" >{{response.data.median.repeatView.breakdown[$key].bytes | KB}}</td>
	 					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>